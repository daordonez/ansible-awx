# Ansible AWX - Configuración del repositorio
# Este archivo está basado en la estructura actual del repositorio

[defaults]
# Configuración básica
host_key_checking = False
roles_path = ./roles:./playbooks/roles:/runner/requirements_roles:/runner/.ansible/roles
timeout = 30
retry_files_enabled = False
deprecation_warnings = False
gathering = smart
fact_caching = jsonfile
fact_caching_connection = .ansible_cache
fact_caching_timeout = 86400

# Gestión de secrets

# Logging
display_skipped_hosts = False
display_ok_hosts = True

# Callbacks para mejor output
# stdout_callback = yaml
bin_ansible_callbacks = True

# Directorios basados en la estructura del repositorio
collections_paths = ./collections:/runner/.ansible/collections
library = ./plugins/modules

# Inventario por defecto (localhost para Graph API)

# [inventory]
# enable_plugins = yaml, ini, host_list

[privilege_escalation]
become = False

[ssh_connection]
pipelining = True
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o UserKnownHostsFile=/dev/null

[persistent_connection]
command_timeout = 30
connect_timeout = 30